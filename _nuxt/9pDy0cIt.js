import{p as z,q as F,e as I,s as L,t as G,v as K,x as M,o,f as c,w as r,j as y,u as t,y as q,z as U,V as W,r as d,a as g,A as b,d as n,c as h,B as f,b as X,C as Y,D as w,E as B,F as J,i as $,G as x,H as C}from"./BKh8bA8C.js";import{D as Q,a as Z,b as _}from"./BfP8iEm1.js";import{D as ee,a as P,b as O,c as te,d as E}from"./BByABMIl.js";const ae={slots:{overlay:"fixed inset-0",content:"bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"w-[calc(100vw-2rem)] max-w-lg rounded-lg shadow-lg ring ring-default"}},overlay:{true:{overlay:"bg-elevated/75"}},scrollable:{true:{overlay:"overflow-y-auto",content:"relative"},false:{content:"fixed",body:"overflow-y-auto"}}},compoundVariants:[{scrollable:!0,fullscreen:!1,class:{overlay:"grid place-items-center p-4 sm:py-8"}},{scrollable:!1,fullscreen:!1,class:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] overflow-hidden"}}]},re={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},scrollable:{type:Boolean,required:!1},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(a,{emit:V}){const e=a,m=V,l=z(),{t:S}=F(),k=I(),T=L(G(e,"open","defaultOpen","modal"),m),R=K(x(()=>e.portal)),j=x(()=>e.content),A=$(()=>e.dismissible?e.scrollable?{pointerDownOutside:s=>{const u=s.detail.originalEvent,p=u.target;(u.offsetX>p.clientWidth||u.offsetY>p.clientHeight)&&s.preventDefault()}}:{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((u,p)=>(u[p]=v=>{v.preventDefault(),m("close:prevent")},u),{})),[H,D]=M(),i=$(()=>C({extend:C(ae),...k.ui?.modal||{}})({transition:e.transition,fullscreen:e.fullscreen,overlay:e.overlay,scrollable:e.scrollable}));return(s,u)=>(o(),c(t(_),w(B(t(T))),{default:r(({open:p,close:v})=>[y(t(H),null,{default:r(()=>[y(t(ee),q({"data-slot":"content",class:i.value.content({class:[!l.default&&e.class,e.ui?.content]})},j.value,{onAfterEnter:u[0]||(u[0]=N=>m("after:enter")),onAfterLeave:u[1]||(u[1]=N=>m("after:leave"))},U(A.value)),{default:r(()=>[l.content&&(a.title||l.title||a.description||l.description)?(o(),c(t(W),{key:0},{default:r(()=>[a.title||l.title?(o(),c(t(P),{key:0},{default:r(()=>[d(s.$slots,"title",{},()=>[g(b(a.title),1)])]),_:3})):n("",!0),a.description||l.description?(o(),c(t(O),{key:1},{default:r(()=>[d(s.$slots,"description",{},()=>[g(b(a.description),1)])]),_:3})):n("",!0)]),_:3})):n("",!0),d(s.$slots,"content",{close:v},()=>[l.header||a.title||l.title||a.description||l.description||e.close||l.close?(o(),h("div",{key:0,"data-slot":"header",class:f(i.value.header({class:e.ui?.header}))},[d(s.$slots,"header",{close:v},()=>[X("div",{"data-slot":"wrapper",class:f(i.value.wrapper({class:e.ui?.wrapper}))},[a.title||l.title?(o(),c(t(P),{key:0,"data-slot":"title",class:f(i.value.title({class:e.ui?.title}))},{default:r(()=>[d(s.$slots,"title",{},()=>[g(b(a.title),1)])]),_:3},8,["class"])):n("",!0),a.description||l.description?(o(),c(t(O),{key:1,"data-slot":"description",class:f(i.value.description({class:e.ui?.description}))},{default:r(()=>[d(s.$slots,"description",{},()=>[g(b(a.description),1)])]),_:3},8,["class"])):n("",!0)],2),d(s.$slots,"actions"),e.close||l.close?(o(),c(t(te),{key:0,"as-child":""},{default:r(()=>[d(s.$slots,"close",{ui:i.value},()=>[e.close?(o(),c(Y,q({key:0,icon:a.closeIcon||t(k).ui.icons.close,color:"neutral",variant:"ghost","aria-label":t(S)("modal.close")},typeof e.close=="object"?e.close:{},{"data-slot":"close",class:i.value.close({class:e.ui?.close})}),null,16,["icon","aria-label","class"])):n("",!0)])]),_:2},1024)):n("",!0)])],2)):n("",!0),l.body?(o(),h("div",{key:1,"data-slot":"body",class:f(i.value.body({class:e.ui?.body}))},[d(s.$slots,"body",{close:v})],2)):n("",!0),l.footer?(o(),h("div",{key:2,"data-slot":"footer",class:f(i.value.footer({class:e.ui?.footer}))},[d(s.$slots,"footer",{close:v})],2)):n("",!0)])]),_:2},1040,["class"])]),_:2},1024),l.default?(o(),c(t(Q),{key:0,"as-child":"",class:f(e.class)},{default:r(()=>[d(s.$slots,"default",{open:p})]),_:2},1032,["class"])):n("",!0),y(t(Z),w(B(t(R))),{default:r(()=>[a.scrollable?(o(),c(t(E),{key:0,"data-slot":"overlay",class:f(i.value.overlay({class:e.ui?.overlay}))},{default:r(()=>[y(t(D))]),_:1},8,["class"])):(o(),h(J,{key:1},[a.overlay?(o(),c(t(E),{key:0,"data-slot":"overlay",class:f(i.value.overlay({class:e.ui?.overlay}))},null,8,["class"])):n("",!0),y(t(D))],64))]),_:1},16)]),_:3},16))}};export{re as _};
